{"version":3,"file":"npm-to-yarn.mjs","sources":["../src/utils.ts","../src/yarnToNpm.ts","../src/npmToYarn.ts","../src/index.ts"],"sourcesContent":["export const unchangedCLICommands = ['test', 'login', 'logout', 'link', 'publish', 'cache']\n\nexport const yarnCLICommands = [\n  'init',\n  'run',\n  'add',\n  'audit',\n  'autoclean',\n  'bin',\n  'check',\n  'config',\n  'create',\n  'dedupe',\n  'generate-lock-entry',\n  'global',\n  'help',\n  'import',\n  'info',\n  'install',\n  'licenses',\n  'list',\n  'lockfile',\n  'outdated',\n  'owner',\n  'pack',\n  'policies',\n  'prune',\n  'remove',\n  'self-update',\n  'tag',\n  'team',\n  'link',\n  'unlink',\n  'upgrade',\n  'upgrade-interactive',\n  'version',\n  'versions',\n  'why',\n  'workspace',\n  'workspaces',\n]\n\nexport const npmCLICommands = [\n  'init',\n  'run',\n  'access',\n  'adduser',\n  'audit',\n  'bin',\n  'bugs',\n  'build',\n  'bundle',\n  'ci',\n  'completion',\n  'config',\n  'dedupe',\n  'deprecate',\n  'dist-tag',\n  'docs',\n  'doctor',\n  'edit',\n  'explore',\n  'fund',\n  'help-search',\n  'help',\n  'hook',\n  'install-ci-test',\n  'install-test',\n  'install',\n  'ls',\n  'list',\n  'npm',\n  'org',\n  'outdated',\n  'owner',\n  'pack',\n  'ping',\n  'prefix',\n  'profile',\n  'prune',\n  'rebuild',\n  'repo',\n  'restart',\n  'root',\n  'run-script',\n  'search',\n  'shrinkwrap',\n  'star',\n  'stars',\n  'start',\n  'stop',\n  'team',\n  'token',\n  'uninstall',\n  'unpublish',\n  'update',\n  'version',\n  'view',\n  'whoami',\n]\n","import { unchangedCLICommands, yarnCLICommands } from './utils'\n\nconst yarnToNpmTable = {\n  add(command: string, global?: true) {\n    let dev\n    if (command === 'add --force') {\n      return 'rebuild'\n    }\n    let ret = command\n      .replace('add', 'install')\n      .replace(/\\s*--dev/, function () {\n        dev = true\n        return ''\n      })\n      .replace('--no-lockfile', '--no-package-lock')\n      .replace('--optional', '--save-optional')\n      .replace('--exact', '--save-exact')\n    if (dev) {\n      ret += ' --save-dev'\n    } else if (global) {\n      ret += ' --global'\n    } else {\n      ret += ' --save'\n    }\n    return ret\n  },\n  remove(command: string, global?: true) {\n    let dev\n    let ret = command\n      .replace('remove', 'uninstall')\n      .replace(/\\s*--dev/, function () {\n        dev = true\n        return ''\n      })\n      .replace('--no-lockfile', '--no-package-lock')\n      .replace('--optional', '--save-optional')\n      .replace('--exact', '--save-exact')\n    if (dev) {\n      ret += ' --save-dev'\n    } else if (global) {\n      ret += ' --global'\n    } else {\n      ret += ' --save'\n    }\n    return ret\n  },\n  version(command: string) {\n    return command.replace(/--(major|minor|patch)/, '$1')\n  },\n  install: 'install',\n  list(command: string) {\n    return command\n      .replace(/--pattern [\"']([^\"']+)[\"']/, function (_, packages: string) {\n        return packages.split('|').join(' ')\n      })\n      .replace(/^list/, 'ls')\n  },\n  init: 'init',\n  create: 'init',\n  run: 'run',\n  start: 'start',\n  stop: 'stop',\n  test: 'test',\n  global(command: string) {\n    if (/^global add/.test(command)) {\n      return yarnToNpmTable.add(command.replace(/^global add/, 'add'), true)\n    } else if (/^global remove/.test(command)) {\n      return yarnToNpmTable.remove(command.replace(/^global remove/, 'remove'), true)\n    }\n    return 'npm ' + command + \"\\n# couldn't auto-convert command\"\n  },\n}\n\nexport function yarnToNPM(_m: string, command: string): string {\n  command = (command || '').trim()\n  if (command === '') {\n    return 'npm install'\n  }\n  const firstCommand = (/\\w+/.exec(command) || [''])[0]\n\n  if (unchangedCLICommands.includes(firstCommand)) {\n    return 'npm ' + command\n  }\n\n  if (firstCommand in yarnToNpmTable) {\n    const converter = yarnToNpmTable[firstCommand as keyof typeof yarnToNpmTable]\n\n    if (typeof converter === 'function') {\n      return 'npm ' + converter(command)\n    } else {\n      return 'npm ' + command.replace(firstCommand, converter)\n    }\n  } else if (!yarnCLICommands.includes(firstCommand)) {\n    // i.e., yarn grunt -> npm run grunt\n    return 'npm run ' + command\n  } else {\n    return 'npm ' + command + \"\\n# couldn't auto-convert command\"\n  }\n}\n","import { unchangedCLICommands, yarnCLICommands } from './utils'\n\nconst npmToYarnTable = {\n  install(command: string) {\n    if (/^install *$/.test(command)) {\n      return 'install'\n    }\n    let ret = command\n      .replace('install', 'add')\n      .replace('--save-dev', '--dev')\n      .replace('--no-package-lock', '--no-lockfile')\n      .replace('--save-optional', '--optional')\n      .replace('--save-exact', '--exact')\n      .replace(/\\s*--save/, '')\n    if (/ -(?:-global|g)(?![^\\b])/.test(ret)) {\n      ret = ret.replace(/ -(?:-global|g)(?![^\\b])/, '')\n      ret = 'global ' + ret\n    }\n    return ret\n  },\n  uninstall(command: string) {\n    let ret = command\n      .replace('uninstall', 'remove')\n      .replace('--save-dev', '--dev')\n      .replace(/\\s*--save/, '')\n      .replace('--no-package-lock', '--no-lockfile')\n    if (/ -(?:-global|g)(?![^\\b])/.test(ret)) {\n      ret = ret.replace(/ -(?:-global|g)(?![^\\b])/, '')\n      ret = 'global ' + ret\n    }\n    return ret\n  },\n  version(command: string) {\n    return command.replace(/(major|minor|patch)/, '--$1')\n  },\n  rebuild(command: string) {\n    return command.replace('rebuild', 'add --force')\n  },\n  exec (command: string) {\n    return command.replace(\n      /^exec\\s?([^\\s]+)?(\\s--\\s--)?(.*)$/,\n      (_, data?: string, dash?: string, rest?: string): string => {\n        let result = ''\n        if (data && !unchangedCLICommands.includes(data) && !yarnCLICommands.includes(data)) {\n          result += data\n        } else {\n          result += 'run ' + (data || '')\n        }\n        if (dash) result += dash.replace(/^\\s--/, '')\n        if (rest) result += rest\n        return result\n      }\n    )\n  },\n  run(command: string) {\n    return command.replace(\n      /^run\\s?([^\\s]+)?(\\s--\\s--)?(.*)$/,\n      (_, data?: string, dash?: string, rest?: string): string => {\n        let result = ''\n        if (data && !unchangedCLICommands.includes(data) && !yarnCLICommands.includes(data)) {\n          result += data\n        } else {\n          result += 'run ' + (data || '')\n        }\n        if (dash) result += dash.replace(/^\\s--/, '')\n        if (rest) result += rest\n        return result\n      }\n    )\n  },\n  ls(command: string) {\n    return command.replace(/^(ls|list)(.*)$/, function (_1, _2: string, args: string): string {\n      let result = 'list'\n      if (args) {\n        let ended = false\n        let packages = []\n        const items = args.split(' ').filter(Boolean)\n        for (const item of items) {\n          if (ended) {\n            result += ' ' + item\n          } else if (item.startsWith('-')) {\n            result += ' --pattern \"' + packages.join('|') + '\"'\n            packages = []\n            ended = true\n            result += ' ' + item\n          } else {\n            packages.push(item)\n          }\n        }\n        if (packages.length > 0) {\n          result += ' --pattern \"' + packages.join('|') + '\"'\n        }\n        return result\n      } else {\n        return 'list'\n      }\n    })\n  },\n  list(command: string) {\n    return npmToYarnTable.ls(command)\n  },\n  init(command: string) {\n    if (/^init (?!-).*$/.test(command)) {\n      return command.replace('init', 'create')\n    }\n    return command.replace(' --scope', '')\n  },\n  start: 'start',\n  stop: 'stop',\n  test: 'test',\n}\n\nexport function npmToYarn(_m: string, command: string): string {\n  command = (command || '').trim()\n  const firstCommand = (/\\w+/.exec(command) || [''])[0]\n\n  if (unchangedCLICommands.includes(firstCommand)) {\n    return 'yarn ' + command\n  }\n\n  if (firstCommand in npmToYarnTable) {\n    const converter = npmToYarnTable[firstCommand as keyof typeof npmToYarnTable]\n\n    if (typeof converter === 'function') {\n      return 'yarn ' + converter(command)\n    } else {\n      return 'yarn ' + command.replace(firstCommand, converter)\n    }\n  } else {\n    return 'yarn ' + command + \"\\n# couldn't auto-convert command\"\n  }\n}\n","import { yarnToNPM } from './yarnToNpm'\nimport { npmToYarn } from './npmToYarn'\n\n/**\n * Converts yarn to npm command\n */\nexport function convertToNpm(str: string) {\n  return str.replace(/yarn(?: +([^&\\n\\r]*))?/gm, yarnToNPM)\n}\n\n/**\n * Converts npm to yarn command\n */\nexport function convertToYarn(str: string) {\n  return str.replace(/npm(?: +([^&\\n\\r]*))?/gm, npmToYarn)\n}\n\n/**\n * Converts between npm and yarn command\n */\nexport default function convert(str: string, to: 'npm' | 'yarn'): string {\n  if (to === 'npm') {\n    return convertToNpm(str)\n  } else {\n    return convertToYarn(str)\n  }\n}\n"],"names":[],"mappings":"AAAO,IAAM,oBAAoB,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC,CAAA;AAEpF,IAAM,eAAe,GAAG;IAC7B,MAAM;IACN,KAAK;IACL,KAAK;IACL,OAAO;IACP,WAAW;IACX,KAAK;IACL,OAAO;IACP,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,qBAAqB;IACrB,QAAQ;IACR,MAAM;IACN,QAAQ;IACR,MAAM;IACN,SAAS;IACT,UAAU;IACV,MAAM;IACN,UAAU;IACV,UAAU;IACV,OAAO;IACP,MAAM;IACN,UAAU;IACV,OAAO;IACP,QAAQ;IACR,aAAa;IACb,KAAK;IACL,MAAM;IACN,MAAM;IACN,QAAQ;IACR,SAAS;IACT,qBAAqB;IACrB,SAAS;IACT,UAAU;IACV,KAAK;IACL,WAAW;IACX,YAAY;CACb;;ACtCD,IAAM,cAAc,GAAG;IACrB,GAAG,EAAA,UAAC,OAAe,EAAE,MAAa,EAAA;AAChC,QAAA,IAAI,GAAG,CAAA;QACP,IAAI,OAAO,KAAK,aAAa,EAAE;AAC7B,YAAA,OAAO,SAAS,CAAA;AACjB,SAAA;QACD,IAAI,GAAG,GAAG,OAAO;AACd,aAAA,OAAO,CAAC,KAAK,EAAE,SAAS,CAAC;aACzB,OAAO,CAAC,UAAU,EAAE,YAAA;YACnB,GAAG,GAAG,IAAI,CAAA;AACV,YAAA,OAAO,EAAE,CAAA;AACX,SAAC,CAAC;AACD,aAAA,OAAO,CAAC,eAAe,EAAE,mBAAmB,CAAC;AAC7C,aAAA,OAAO,CAAC,YAAY,EAAE,iBAAiB,CAAC;AACxC,aAAA,OAAO,CAAC,SAAS,EAAE,cAAc,CAAC,CAAA;AACrC,QAAA,IAAI,GAAG,EAAE;YACP,GAAG,IAAI,aAAa,CAAA;AACrB,SAAA;AAAM,aAAA,IAAI,MAAM,EAAE;YACjB,GAAG,IAAI,WAAW,CAAA;AACnB,SAAA;AAAM,aAAA;YACL,GAAG,IAAI,SAAS,CAAA;AACjB,SAAA;AACD,QAAA,OAAO,GAAG,CAAA;KACX;IACD,MAAM,EAAA,UAAC,OAAe,EAAE,MAAa,EAAA;AACnC,QAAA,IAAI,GAAG,CAAA;QACP,IAAI,GAAG,GAAG,OAAO;AACd,aAAA,OAAO,CAAC,QAAQ,EAAE,WAAW,CAAC;aAC9B,OAAO,CAAC,UAAU,EAAE,YAAA;YACnB,GAAG,GAAG,IAAI,CAAA;AACV,YAAA,OAAO,EAAE,CAAA;AACX,SAAC,CAAC;AACD,aAAA,OAAO,CAAC,eAAe,EAAE,mBAAmB,CAAC;AAC7C,aAAA,OAAO,CAAC,YAAY,EAAE,iBAAiB,CAAC;AACxC,aAAA,OAAO,CAAC,SAAS,EAAE,cAAc,CAAC,CAAA;AACrC,QAAA,IAAI,GAAG,EAAE;YACP,GAAG,IAAI,aAAa,CAAA;AACrB,SAAA;AAAM,aAAA,IAAI,MAAM,EAAE;YACjB,GAAG,IAAI,WAAW,CAAA;AACnB,SAAA;AAAM,aAAA;YACL,GAAG,IAAI,SAAS,CAAA;AACjB,SAAA;AACD,QAAA,OAAO,GAAG,CAAA;KACX;AACD,IAAA,OAAO,YAAC,OAAe,EAAA;QACrB,OAAO,OAAO,CAAC,OAAO,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAA;KACtD;AACD,IAAA,OAAO,EAAE,SAAS;AAClB,IAAA,IAAI,YAAC,OAAe,EAAA;AAClB,QAAA,OAAO,OAAO;AACX,aAAA,OAAO,CAAC,4BAA4B,EAAE,UAAU,CAAC,EAAE,QAAgB,EAAA;YAClE,OAAO,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;AACtC,SAAC,CAAC;AACD,aAAA,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;KAC1B;AACD,IAAA,IAAI,EAAE,MAAM;AACZ,IAAA,MAAM,EAAE,MAAM;AACd,IAAA,GAAG,EAAE,KAAK;AACV,IAAA,KAAK,EAAE,OAAO;AACd,IAAA,IAAI,EAAE,MAAM;AACZ,IAAA,IAAI,EAAE,MAAM;AACZ,IAAA,MAAM,YAAC,OAAe,EAAA;AACpB,QAAA,IAAI,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;AAC/B,YAAA,OAAO,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC,CAAA;AACvE,SAAA;AAAM,aAAA,IAAI,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;AACzC,YAAA,OAAO,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAgB,EAAE,QAAQ,CAAC,EAAE,IAAI,CAAC,CAAA;AAChF,SAAA;AACD,QAAA,OAAO,MAAM,GAAG,OAAO,GAAG,mCAAmC,CAAA;KAC9D;CACF,CAAA;AAEe,SAAA,SAAS,CAAC,EAAU,EAAE,OAAe,EAAA;IACnD,OAAO,GAAG,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,EAAE,CAAA;IAChC,IAAI,OAAO,KAAK,EAAE,EAAE;AAClB,QAAA,OAAO,aAAa,CAAA;AACrB,KAAA;AACD,IAAA,IAAM,YAAY,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;AAErD,IAAA,IAAI,oBAAoB,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;QAC/C,OAAO,MAAM,GAAG,OAAO,CAAA;AACxB,KAAA;IAED,IAAI,YAAY,IAAI,cAAc,EAAE;AAClC,QAAA,IAAM,SAAS,GAAG,cAAc,CAAC,YAA2C,CAAC,CAAA;AAE7E,QAAA,IAAI,OAAO,SAAS,KAAK,UAAU,EAAE;AACnC,YAAA,OAAO,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC,CAAA;AACnC,SAAA;AAAM,aAAA;YACL,OAAO,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE,SAAS,CAAC,CAAA;AACzD,SAAA;AACF,KAAA;AAAM,SAAA,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;;QAElD,OAAO,UAAU,GAAG,OAAO,CAAA;AAC5B,KAAA;AAAM,SAAA;AACL,QAAA,OAAO,MAAM,GAAG,OAAO,GAAG,mCAAmC,CAAA;AAC9D,KAAA;AACH;;AChGA,IAAM,cAAc,GAAG;AACrB,IAAA,OAAO,YAAC,OAAe,EAAA;AACrB,QAAA,IAAI,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;AAC/B,YAAA,OAAO,SAAS,CAAA;AACjB,SAAA;QACD,IAAI,GAAG,GAAG,OAAO;AACd,aAAA,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC;AACzB,aAAA,OAAO,CAAC,YAAY,EAAE,OAAO,CAAC;AAC9B,aAAA,OAAO,CAAC,mBAAmB,EAAE,eAAe,CAAC;AAC7C,aAAA,OAAO,CAAC,iBAAiB,EAAE,YAAY,CAAC;AACxC,aAAA,OAAO,CAAC,cAAc,EAAE,SAAS,CAAC;AAClC,aAAA,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAA;AAC3B,QAAA,IAAI,0BAA0B,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YACxC,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,0BAA0B,EAAE,EAAE,CAAC,CAAA;AACjD,YAAA,GAAG,GAAG,SAAS,GAAG,GAAG,CAAA;AACtB,SAAA;AACD,QAAA,OAAO,GAAG,CAAA;KACX;AACD,IAAA,SAAS,YAAC,OAAe,EAAA;QACvB,IAAI,GAAG,GAAG,OAAO;AACd,aAAA,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;AAC9B,aAAA,OAAO,CAAC,YAAY,EAAE,OAAO,CAAC;AAC9B,aAAA,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;AACxB,aAAA,OAAO,CAAC,mBAAmB,EAAE,eAAe,CAAC,CAAA;AAChD,QAAA,IAAI,0BAA0B,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YACxC,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,0BAA0B,EAAE,EAAE,CAAC,CAAA;AACjD,YAAA,GAAG,GAAG,SAAS,GAAG,GAAG,CAAA;AACtB,SAAA;AACD,QAAA,OAAO,GAAG,CAAA;KACX;AACD,IAAA,OAAO,YAAC,OAAe,EAAA;QACrB,OAAO,OAAO,CAAC,OAAO,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAA;KACtD;AACD,IAAA,OAAO,YAAC,OAAe,EAAA;QACrB,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;KACjD;AACD,IAAA,IAAI,YAAE,OAAe,EAAA;AACnB,QAAA,OAAO,OAAO,CAAC,OAAO,CACpB,mCAAmC,EACnC,UAAC,CAAC,EAAE,IAAa,EAAE,IAAa,EAAE,IAAa,EAAA;YAC7C,IAAI,MAAM,GAAG,EAAE,CAAA;AACf,YAAA,IAAI,IAAI,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACnF,MAAM,IAAI,IAAI,CAAA;AACf,aAAA;AAAM,iBAAA;gBACL,MAAM,IAAI,MAAM,IAAI,IAAI,IAAI,EAAE,CAAC,CAAA;AAChC,aAAA;AACD,YAAA,IAAI,IAAI;gBAAE,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAA;AAC7C,YAAA,IAAI,IAAI;gBAAE,MAAM,IAAI,IAAI,CAAA;AACxB,YAAA,OAAO,MAAM,CAAA;AACf,SAAC,CACF,CAAA;KACF;AACD,IAAA,GAAG,YAAC,OAAe,EAAA;AACjB,QAAA,OAAO,OAAO,CAAC,OAAO,CACpB,kCAAkC,EAClC,UAAC,CAAC,EAAE,IAAa,EAAE,IAAa,EAAE,IAAa,EAAA;YAC7C,IAAI,MAAM,GAAG,EAAE,CAAA;AACf,YAAA,IAAI,IAAI,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACnF,MAAM,IAAI,IAAI,CAAA;AACf,aAAA;AAAM,iBAAA;gBACL,MAAM,IAAI,MAAM,IAAI,IAAI,IAAI,EAAE,CAAC,CAAA;AAChC,aAAA;AACD,YAAA,IAAI,IAAI;gBAAE,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAA;AAC7C,YAAA,IAAI,IAAI;gBAAE,MAAM,IAAI,IAAI,CAAA;AACxB,YAAA,OAAO,MAAM,CAAA;AACf,SAAC,CACF,CAAA;KACF;AACD,IAAA,EAAE,YAAC,OAAe,EAAA;QAChB,OAAO,OAAO,CAAC,OAAO,CAAC,iBAAiB,EAAE,UAAU,EAAE,EAAE,EAAU,EAAE,IAAY,EAAA;YAC9E,IAAI,MAAM,GAAG,MAAM,CAAA;AACnB,YAAA,IAAI,IAAI,EAAE;gBACR,IAAI,KAAK,GAAG,KAAK,CAAA;gBACjB,IAAI,QAAQ,GAAG,EAAE,CAAA;AACjB,gBAAA,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;AAC7C,gBAAA,KAAmB,UAAK,EAAL,OAAA,GAAA,KAAK,EAAL,EAAK,GAAA,OAAA,CAAA,MAAA,EAAL,IAAK,EAAE;AAArB,oBAAA,IAAM,IAAI,GAAA,OAAA,CAAA,EAAA,CAAA,CAAA;AACb,oBAAA,IAAI,KAAK,EAAE;AACT,wBAAA,MAAM,IAAI,GAAG,GAAG,IAAI,CAAA;AACrB,qBAAA;AAAM,yBAAA,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;wBAC/B,MAAM,IAAI,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAA;wBACnD,QAAQ,GAAG,EAAE,CAAA;wBACb,KAAK,GAAG,IAAI,CAAA;AACZ,wBAAA,MAAM,IAAI,GAAG,GAAG,IAAI,CAAA;AACrB,qBAAA;AAAM,yBAAA;AACL,wBAAA,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;AACpB,qBAAA;AACF,iBAAA;AACD,gBAAA,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvB,MAAM,IAAI,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAA;AACpD,iBAAA;AACD,gBAAA,OAAO,MAAM,CAAA;AACd,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,MAAM,CAAA;AACd,aAAA;AACH,SAAC,CAAC,CAAA;KACH;AACD,IAAA,IAAI,YAAC,OAAe,EAAA;AAClB,QAAA,OAAO,cAAc,CAAC,EAAE,CAAC,OAAO,CAAC,CAAA;KAClC;AACD,IAAA,IAAI,YAAC,OAAe,EAAA;AAClB,QAAA,IAAI,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YAClC,OAAO,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;AACzC,SAAA;QACD,OAAO,OAAO,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAA;KACvC;AACD,IAAA,KAAK,EAAE,OAAO;AACd,IAAA,IAAI,EAAE,MAAM;AACZ,IAAA,IAAI,EAAE,MAAM;CACb,CAAA;AAEe,SAAA,SAAS,CAAC,EAAU,EAAE,OAAe,EAAA;IACnD,OAAO,GAAG,CAAC,OAAO,IAAI,EAAE,EAAE,IAAI,EAAE,CAAA;AAChC,IAAA,IAAM,YAAY,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;AAErD,IAAA,IAAI,oBAAoB,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;QAC/C,OAAO,OAAO,GAAG,OAAO,CAAA;AACzB,KAAA;IAED,IAAI,YAAY,IAAI,cAAc,EAAE;AAClC,QAAA,IAAM,SAAS,GAAG,cAAc,CAAC,YAA2C,CAAC,CAAA;AAE7E,QAAA,IAAI,OAAO,SAAS,KAAK,UAAU,EAAE;AACnC,YAAA,OAAO,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC,CAAA;AACpC,SAAA;AAAM,aAAA;YACL,OAAO,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE,SAAS,CAAC,CAAA;AAC1D,SAAA;AACF,KAAA;AAAM,SAAA;AACL,QAAA,OAAO,OAAO,GAAG,OAAO,GAAG,mCAAmC,CAAA;AAC/D,KAAA;AACH;;AChIA;;AAEG;AACG,SAAU,YAAY,CAAC,GAAW,EAAA;IACtC,OAAO,GAAG,CAAC,OAAO,CAAC,0BAA0B,EAAE,SAAS,CAAC,CAAA;AAC3D,CAAC;AAED;;AAEG;AACG,SAAU,aAAa,CAAC,GAAW,EAAA;IACvC,OAAO,GAAG,CAAC,OAAO,CAAC,yBAAyB,EAAE,SAAS,CAAC,CAAA;AAC1D,CAAC;AAED;;AAEG;AACW,SAAU,OAAO,CAAC,GAAW,EAAE,EAAkB,EAAA;IAC7D,IAAI,EAAE,KAAK,KAAK,EAAE;AAChB,QAAA,OAAO,YAAY,CAAC,GAAG,CAAC,CAAA;AACzB,KAAA;AAAM,SAAA;AACL,QAAA,OAAO,aAAa,CAAC,GAAG,CAAC,CAAA;AAC1B,KAAA;AACH;;;;"}